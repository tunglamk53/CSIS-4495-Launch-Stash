{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HOME_DESKTOP\\\\OneDrive - Douglas College\\\\LaunchStash\\\\CSIS-4495\\\\client\\\\src\\\\pages\\\\ChecklistPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport CheckList from './components/checklist';\nimport { Redirect } from 'react-router-dom';\n\nconst ChecklistPage = () => {\n  const [data, setData] = useState(); // const email = localStorage.getItem('myEmail')\n\n  const [btnClick, setBtnClick] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(`/user/my-checklist/${localStorage.getItem('myEmail')}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'token-backend': localStorage.getItem('myToken'),\n          'email-backend': localStorage.getItem('myEmail')\n        }\n      });\n      const body = await result.json(); // const jsonBody = JSON.stringify(body)\n\n      setData({\n        nlist: body[0].checklist\n      });\n      console.log(body);\n    };\n\n    fetchData();\n  }, [setData]);\n  console.log(data); // const data3 = data.map(x => JSON.stringify(x))\n  // console.log(data3);\n\n  if (btnClick === false) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, \"My Checklists List\"), data ? data.nlist.map( // (item,i) => (<p key={i}>{item.part1}</p>)) \n    (item, i) => /*#__PURE__*/React.createElement(CheckList, {\n      key: i,\n      part1: item.part1,\n      part2: item.part2,\n      part3: item.part3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 33\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: setBtnClick(true),\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Create a new CheckList\"));\n  } else {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/checklist\",\n      push: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    });\n  }\n};\n\nexport default ChecklistPage;","map":{"version":3,"sources":["C:/Users/HOME_DESKTOP/OneDrive - Douglas College/LaunchStash/CSIS-4495/client/src/pages/ChecklistPage.js"],"names":["React","useState","useEffect","CheckList","Redirect","ChecklistPage","data","setData","btnClick","setBtnClick","fetchData","result","fetch","localStorage","getItem","method","headers","body","json","nlist","checklist","console","log","map","item","i","part1","part2","part3"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,EAAhC,CADwB,CAExB;;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,SAAS,GAAG,YAAY;AAC1B,YAAMC,MAAM,GAAG,MAAMC,KAAK,CACrB,sBAAqBC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgC,EADhC,EAEtB;AACIC,QAAAA,MAAM,EAAE,KADZ;AAEIC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAiBH,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFZ;AAGL,2BAAiBD,YAAY,CAACC,OAAb,CAAqB,SAArB;AAHZ;AAFb,OAFsB,CAA1B;AAUA,YAAMG,IAAI,GAAG,MAAMN,MAAM,CAACO,IAAP,EAAnB,CAX0B,CAY1B;;AACAX,MAAAA,OAAO,CAAC;AAAEY,QAAAA,KAAK,EAAEF,IAAI,CAAC,CAAD,CAAJ,CAAQG;AAAjB,OAAD,CAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,KAfD;;AAgBAP,IAAAA,SAAS;AACZ,GAlBQ,EAkBP,CAACH,OAAD,CAlBO,CAAT;AAoBAc,EAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAZ,EAzBwB,CA4BxB;AACA;;AAEA,MAAGE,QAAQ,KAAK,KAAhB,EAAuB;AACnB,wBACI,uDACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADA,EAECF,IAAI,GACDA,IAAI,CAACa,KAAL,CAAWI,GAAX,EACI;AACA,KAACC,IAAD,EAAMC,CAAN,kBAAY,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,CAAhB;AAAmB,MAAA,KAAK,EAAED,IAAI,CAACE,KAA/B;AAAsC,MAAA,KAAK,EAAEF,IAAI,CAACG,KAAlD;AAAyD,MAAA,KAAK,EAAEH,IAAI,CAACI,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFhB,CADC,GAIH,IANF,eAQA;AAAQ,MAAA,OAAO,EAAEnB,WAAW,CAAC,IAAD,CAA5B;AAAoC,MAAA,SAAS,EAAC,2BAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCARA,CADJ;AAYH,GAbD,MAaO;AACH,wBAAQ,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAA0B,MAAA,IAAI,EAAE,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACH;AAEJ,CAhDD;;AAkDA,eAAeJ,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';  \r\nimport CheckList from './components/checklist';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst ChecklistPage = () => {\r\n    const [data, setData] = useState()\r\n    // const email = localStorage.getItem('myEmail')\r\n    const [btnClick, setBtnClick] = useState(false)\r\n    \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const result = await fetch(\r\n                `/user/my-checklist/${localStorage.getItem('myEmail')}`,\r\n                {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'token-backend': localStorage.getItem('myToken'),\r\n                        'email-backend': localStorage.getItem('myEmail')\r\n                    }   \r\n                });\r\n            const body = await result.json()\r\n            // const jsonBody = JSON.stringify(body)\r\n            setData({ nlist: body[0].checklist})\r\n            console.log(body);\r\n        }\r\n        fetchData();\r\n    },[setData])\r\n\r\n    console.log(data);\r\n\r\n\r\n    // const data3 = data.map(x => JSON.stringify(x))\r\n    // console.log(data3);\r\n\r\n    if(btnClick === false) {\r\n        return(\r\n            <>\r\n            <h1>My Checklists List</h1>\r\n            {data ? \r\n                data.nlist.map(\r\n                    // (item,i) => (<p key={i}>{item.part1}</p>)) \r\n                    (item,i) => <CheckList key={i} part1={item.part1} part2={item.part2} part3={item.part3} />) \r\n            : null}\r\n\r\n            <button onClick={setBtnClick(true)} className=\"btn btn-primary btn-block\">Create a new CheckList</button>\r\n            </>\r\n        )\r\n    } else {\r\n        return (<Redirect to=\"/checklist\" push={true}/>)\r\n    }\r\n\r\n}\r\n\r\nexport default ChecklistPage"]},"metadata":{},"sourceType":"module"}